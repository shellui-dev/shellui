@namespace ShellUI.Components

<div role="status" class="@ComputedClass" @attributes="AdditionalAttributes">
    <div class="flex gap-3">
        @if (Icon != null)
        {
            <span class="flex-shrink-0 mt-0.5">@Icon</span>
        }
        <div class="flex-1 min-w-0">
            @if (!string.IsNullOrEmpty(Title))
            {
                <div class="mb-2 font-semibold leading-none tracking-tight">@Title</div>
            }
            <div class="text-sm [&>p]:leading-7 [&>p:first-child]:mt-0 [&>p:last-child]:mb-0">
                @ChildContent
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter] public CalloutVariant Variant { get; set; } = CalloutVariant.Info;
    [Parameter] public string? Title { get; set; }
    [Parameter] public RenderFragment? Icon { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public string? Class { get; set; }
    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private string ComputedClass => CalloutVariants.Get(Variant, Class);
}
