@namespace ShellUI.Components

<div @onclick="Open" role="button" tabindex="0" @onkeydown="HandleKeyDown" @attributes="AdditionalAttributes">
    @ChildContent
</div>

@code {
    [CascadingParameter] private Sheet? Parent { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private async Task Open()
    {
        if (Parent != null) await Parent.SetOpen(true);
    }

    private async Task HandleKeyDown(KeyboardEventArgs e)
    {
        if ((e.Key == "Enter" || e.Key == " ") && Parent != null) await Parent.SetOpen(true);
    }
}
